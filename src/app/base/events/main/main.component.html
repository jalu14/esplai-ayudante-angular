<ng-container *ngIf="eventList.length && !loading; else emptyView">
    <div class="flex justify-between items-baseline mt-3 mx-3 md:mx-0">
        <span class="text-2xl font-semibold text-gray-700">Events</span>
        <ae-button (click)="createNewEvent()" label="Create event"></ae-button>
    </div>
    <div [hidden]="!eventList.length" class="w-full bg-white shadow-md rounded px-4 py-4 my-4">
        <label class="text-gray-700 text-sm font-bold">
            Filters
        </label>
        <div class="flex">
            <div class="w-1/3 pr-2">
                <input
                    class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none"
                    id="name" type="text" placeholder="Name">
            </div>

            <div class="w-1/12 pr-2">
                <input
                    class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none"
                    id="year" type="number" placeholder="Year">
            </div>
        </div>
    </div>
    <div class="flex mx-3 md:mx-0">
        <div class="flex flex-wrap -mx-2">
            <ng-container *ngFor="let event of eventList">
                <a routerLink="/events/{{event.id}}" class="w-full md:w-1/2 xl:w-1/3 mb-2 px-2">
                    <div
                        class="relative flex bg-white shadow-md rounded cursor-pointer hover:shadow-xl transition-250">
                        <div class="hidden xl:block w-40 card-bg"></div>
                        <div class="w-full flex flex-col">
                            <div class="flex-grow-0">
                                <div class="flex">
                                    <div class="block xl:hidden w-24 card-bg"></div>
                                    <div class="flex-grow p-2">
                                        <label class="text-gray-700 text-lg font-bold">
                                            {{event.name}}
                                        </label>
                                        <p class="text-gray-600">{{event.description}}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="flex flex-grow flex-col bg-gray-200 p-2">
                                <!-- Top row -->
                                <div class="flex justify-between">
                                    <div class="flex flex-grow items-center">
                                        <ng-container
                                            *ngFor="let m of event.managerList; let i = index; let first = first">
                                            <button *ngIf="i < 3"
                                                    class="relative block h-8 w-8 rounded-full overflow-hidden border-2 border-white focus:outline-none"
                                                    [class.-ml-2]="!first"
                                                    [style.z-index]="4 - i">
                                                <img class="h-full w-full object-cover"
                                                     src="https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=256&q=80"
                                                     [alt]="m['name']">
                                            </button>
                                        </ng-container>
                                    </div>
                                    <div class="flex items-center text-gray-700 font-bold p-1 mr-2">
                                        <svg class="w-4 h-4 fill-current mr-1" xmlns="http://www.w3.org/2000/svg"
                                             viewBox="0 0 20 20">
                                            <path d="M4 18h12V6h-4V2H4v16zm-2 1V0h12l4 4v16H2v-1z"/>
                                        </svg>
                                        <span>{{event.taskList.length}}</span>
                                    </div>
                                    <div class="flex items-center text-gray-700 rounded p-1">
                                        <svg class="w-4 h-4 fill-current mr-1" xmlns="http://www.w3.org/2000/svg"
                                             viewBox="0 0 20 20">
                                            <path
                                                d="M1 4c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4zm2 2v12h14V6H3zm2-6h2v2H5V0zm8 0h2v2h-2V0zM5 9h2v2H5V9zm0 4h2v2H5v-2zm4-4h2v2H9V9zm0 4h2v2H9v-2zm4-4h2v2h-2V9zm0 4h2v2h-2v-2z"/>
                                        </svg>
                                        <span>{{event.startDate}}</span>
                                    </div>
                                </div>
                                <!-- Bottom row -->
                                <div class="flex justify-between mt-2">
                                    <div class="flex items-center">
                                        <ng-container
                                            *ngFor="let m of event.managerList; let i = index; let first = first">
                                            <button *ngIf="i < 3"
                                                    class="relative block h-8 w-8 rounded-full overflow-hidden border-2 border-white focus:outline-none"
                                                    [class.-ml-2]="!first"
                                                    [style.z-index]="4 - i">
                                                <img class="h-full w-full object-cover"
                                                     src="https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=256&q=80"
                                                     [alt]="m['name']">
                                            </button>
                                        </ng-container>
                                    </div>
                                    <div class="flex items-center bg-gray-700 rounded p-1 text-gray-200">
                                        <svg class="w-6 h-6 fill-current mr-1" xmlns="http://www.w3.org/2000/svg"
                                             viewBox="0 0 20 20">
                                            <path
                                                d="M1 4c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4zm2 2v12h14V6H3zm2-6h2v2H5V0zm8 0h2v2h-2V0zM5 9h2v2H5V9zm0 4h2v2H5v-2zm4-4h2v2H9V9zm0 4h2v2H9v-2zm4-4h2v2h-2V9zm0 4h2v2h-2v-2z"/>
                                        </svg>
                                        <span>{{event.startDate}}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div [hidden]="event.isPublic"
                             class="absolute text-gray-700"
                             style="top: -1rem; right: 0.4rem"
                             ae-tooltip="Este evento estÃ¡ cerrado">
                            <svg class="fill-current w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                                <path
                                    d="M4 8V6a6 6 0 1 1 12 0v2h1a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h1zm5 6.73V17h2v-2.27a2 2 0 1 0-2 0zM7 6v2h6V6a3 3 0 0 0-6 0z"/>
                            </svg>
                        </div>
                    </div>
                </a>
            </ng-container>
        </div>
    </div>
</ng-container>

<ng-template #emptyView>
    <div class="card-bg relative w-11/12 mx-auto bg-gray-700 text-gray-100 shadow-md rounded px-8 pt-4 pb-6 mt-12">
        <h2 class="text-3xl font-semibold">Create your first event</h2>
        <p class="w-8/12 lg:w-1/2 mt-2">Events help scheduling and planning important dates, also they serve as a
            reference for others.</p>
        <ae-button (click)="createNewEvent()" label="Create event"></ae-button>
    </div>

</ng-template>
